{
  "command": "cat >> /var/www/nfe-api/src/Services/SupabaseService.php << 'BUSCAR_EOF'\n    \n    /**\n     * Buscar dados da empresa\n     */\n    public function buscarEmpresa($empresaId)\n    {\n        try {\n            error_log(\"Buscando empresa: \" . $empresaId);\n            \n            $url = $this->supabaseUrl . '/rest/v1/empresas?id=eq.' . $empresaId;\n            \n            $headers = [\n                'Content-Type: application/json',\n                'Authorization: Bearer ' . $this->supabaseKey,\n                'apikey: ' . $this->supabaseKey\n            ];\n            \n            $response = $this->makeRequest('GET', $url, null, $headers);\n            \n            if (empty($response)) {\n                throw new Exception(\"Empresa nÃ£o encontrada: \" . $empresaId);\n            }\n            \n            $empresa = $response[0];\n            error_log(\"Empresa encontrada: \" . $empresa['razao_social']);\n            \n            return $empresa;\n            \n        } catch (Exception $e) {\n            error_log(\"ERRO ao buscar empresa: \" . $e->getMessage());\n            throw $e;\n        }\n    }\nBUSCAR_EOF"
}
